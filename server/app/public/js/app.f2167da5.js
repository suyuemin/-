(function(t){function e(e){for(var o,a,s=e[0],r=e[1],c=e[2],d=0,h=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(h.length)h.shift()();return l.push.apply(l,c||[]),i()}function i(){for(var t,e=0;e<l.length;e++){for(var i=l[e],o=!0,s=1;s<i.length;s++){var r=i[s];0!==n[r]&&(o=!1)}o&&(l.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},n={app:0},l=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=r;l.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0373":function(t,e,i){},1968:function(t,e,i){},"23a9":function(t,e,i){"use strict";var o=i("e933"),n=i.n(o);n.a},2830:function(t,e,i){"use strict";var o=i("81bb"),n=i.n(o);n.a},"28a5":function(t,e,i){"use strict";var o=i("0373"),n=i.n(o);n.a},"30ec":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-view")],1)},l=[],a=i("2877"),s={},r=Object(a["a"])(s,n,l,!1,null,null,null),c=r.exports,u=i("5c96"),d=i.n(u),h=(i("0fae"),i("8c4f")),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",[t._v("欢迎来到内容管理系统后台管理页面")])},f=[],m=(i("b8b1"),{}),b=Object(a["a"])(m,p,f,!1,null,"7fa58c58",null),g=b.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout"},[i("div",{staticClass:"menu"},[i("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:t.isCollapse,callback:function(e){t.isCollapse=e},expression:"isCollapse"}},[i("el-radio-button",{attrs:{label:!1}},[t._v("展开")]),i("el-radio-button",{attrs:{label:!0}},[t._v("收起")])],1),i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:t.isCollapse,router:""},on:{open:t.handleOpen,close:t.handleClose}},[i("el-menu-item",{attrs:{index:"/book"}},[i("i",{staticClass:"el-icon-notebook-1"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(" 书籍管理 ")])]),i("el-menu-item",{attrs:{index:"/blog"}},[i("i",{staticClass:"el-icon-document"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("博客管理")])]),i("el-menu-item",{attrs:{index:"/video"}},[i("i",{staticClass:"el-icon-video-camera"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("视频管理")])]),i("el-menu-item",{attrs:{index:"/resource"}},[i("i",{staticClass:"el-icon-download"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("资源列表")])]),i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-user"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户管理")])]),i("el-menu-item",{attrs:{index:"/user"}},[t._v("用户列表")]),i("el-menu-item",{on:{click:t.logout}},[t._v("注销")])],2)],1)],1),i("div",{staticClass:"container"},[i("router-view")],1)])},_=[],y={data:function(){return{isCollapse:!1}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},logout:function(){localStorage.setItem("token",""),location.reload()}}},x=y,k=(i("8242"),Object(a["a"])(x,v,_,!1,null,null,null)),w=k.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"blog"},[i("el-button",{attrs:{type:"text"},on:{click:t.createBlog}},[t._v("新建博客")]),i("el-table",{attrs:{data:t.blogList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{label:"封面"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticClass:"pic",attrs:{src:t.row.img,alt:""}})]}}])}),i("el-table-column",{attrs:{prop:"title",label:"标题"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.updateBlog(e.row.id)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteBlog(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},C=[],$=i("bc3a"),S=i.n($),V=S.a.create({baseURL:"/api",timeout:5e3});V.interceptors.request.use((function(t){return localStorage.getItem("token")&&(t.headers["token"]=localStorage.getItem("token")),t}));var B=V,E={data:function(){return{name:"",blogList:[]}},methods:{deleteBlog:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/blog/".concat(t)).then((function(){e.getBlogList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},createBlog:function(){this.$router.push("/createBlog")},updateBlog:function(t){this.$router.push("/blog/".concat(t))},getBlogList:function(){var t=this;B.get("/blog?page=1&total=10").then((function(e){t.blogList=e.data.data}))}},created:function(){this.getBlogList()}},O=E,U=(i("2830"),Object(a["a"])(O,L,C,!1,null,"12f3f8c0",null)),I=U.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"cover"}},[i("span",{staticClass:"cover_cover"},[t._v("上传封面:")]),i("el-upload",{attrs:{action:t.getUploadUrl(),"list-type":"picture-card","on-preview":t.handleSuccess,"on-remove":t.handleRemove,headers:t.headers,"on-success":t.handleSuccess,"file-list":t.fileList}},[i("i",{staticClass:"el-icon-plus"})])],1),i("div",{staticClass:"title"},[i("el-input",{staticClass:"title_titlei",attrs:{placeholder:"标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("div",{attrs:{id:"main"}},[i("mavon-editor",{ref:"md",staticClass:"title_titlem",on:{change:t.changeData,imgAdd:t.imgAdd,imgDel:t.imgDel},model:{value:t.md_text,callback:function(e){t.md_text=e},expression:"md_text"}}),i("div",[i("el-button",{staticClass:"title_titleb",attrs:{type:"success"},on:{click:t.save}},[t._v("保存")])],1)],1)])},T=[],D={data:function(){return{fileList:[],md_text:"",html_text:"",img:"",title:"",headers:{token:""}}},methods:{save:function(){this.id?this.updateBlog():this.createBlog()},createBlog:function(){var t=this;B({url:"/blog",method:"post",data:{md_text:this.md_text,html_text:this.html_text,img:this.img,title:this.title}}).then((function(){t.$router.push("/blog")}))},updateBlog:function(){var t=this;B({url:"/blog/".concat(this.id),method:"put",data:{md_text:this.md_text,html_text:this.html_text,img:this.img,title:this.title}}).then((function(){t.$router.push("/blog")}))},getUploadUrl:function(){return"/api/upload"},changeData:function(t,e){this.html_text=e},imgAdd:function(t,e){var i=this,o=new FormData;o.append("image",e),console.log(e,"$file"),B({url:"/api/upload",method:"post",data:o,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var o=e.data.data.file;i.$refs.md.$img2Url(t,o)})).catch((function(t){console.log(t)}))},imgDel:function(){},upload:function(){},handleRemove:function(t,e){console.log(t),console.log(e)},handlePreview:function(t){console.log(t)},handleSuccess:function(t,e,i){console.log(e),console.log(i),this.img=t.data.file}},computed:{id:function(){return this.$route.params.id}},created:function(){var t=this;this.id&&B({url:"/blog/".concat(this.id),method:"get"}).then((function(e){var i=e.data.data;t.title=i.title,t.fileList=[{url:i.img}],t.img=i.img,t.md_text=i.md_text,t.html_text=i.html_text}))}},z=D,R=Object(a["a"])(z,j,T,!1,null,null,null),P=R.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video"},[i("el-button",{attrs:{type:"btn"},on:{click:t.createVideo}},[t._v("添加视频")]),i("el-table",{attrs:{data:t.videoList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{label:"封面"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticClass:"pic",attrs:{src:t.row.img,alt:""}})]}}])}),i("el-table-column",{attrs:{prop:"title",label:"姓名"}}),i("el-table-column",{attrs:{label:"详情",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.getDetail(e.row.iframe_url)}}},[t._v("浏览视频")])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.updateVideo(e.row.id,e.row.title,e.row.img,e.row.iframe_url)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteVideo(e.row.id)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"浏览视频",visible:t.videoIsShow,width:"800px"},on:{"update:visible":function(e){t.videoIsShow=e}}},[i("div",{staticClass:"test",domProps:{innerHTML:t._s(t.video_url)}})]),i("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{attrs:{id:"cover"}},[i("span",{staticClass:"cover_cover"},[t._v("上传封面:")]),i("el-upload",{attrs:{action:t.getUploadUrl(),"list-type":"picture-card","on-preview":t.handleSuccess,"on-remove":t.handleRemove,headers:t.headers,"on-success":t.handleSuccess,"file-list":t.fileList}},[i("i",{staticClass:"el-icon-plus"})])],1),i("el-form",[i("el-form-item",{attrs:{label:"视频标题"}},[i("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("el-form-item",{attrs:{label:"视频地址"}},[i("el-input",{model:{value:t.iframe_url,callback:function(e){t.iframe_url=e},expression:"iframe_url"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},M=[],q={methods:{getDetail:function(t){this.videoIsShow=!0,this.video_url=t,console.log(t)},save:function(){var t=this;this.isEdit?B.put("/video/".concat(this.updateId),{title:this.title,img:this.img,iframe_url:this.iframe_url}).then((function(){t.getVideoList(),t.dialogVisible=!1})):B.post("/video",{title:this.title,img:this.img,iframe_url:this.iframe_url}).then((function(){t.getVideoList(),t.dialogVisible=!1}))},createVideo:function(){this.dialogVisible=!0,this.title="",this.iframe_url="",this.isEdit=!1},deleteVideo:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/video/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getVideoList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateVideo:function(t,e,i,o){this.dialogVisible=!0,this.title=e,this.isEdit=!0,this.updateId=t,this.iframe_url=o,this.fileList=[{url:i}],this.img=i},getVideoList:function(){var t=this;B.get("/video?page=1&total=10").then((function(e){t.videoList=e.data.data}))},getUploadUrl:function(){return"/api/upload"},handleRemove:function(t,e){console.log(t),console.log(e)},handlePreview:function(t){console.log(t)},handleSuccess:function(t,e,i){console.log(e),console.log(i),this.img=t.data.file}},data:function(){return{fileList:[],videoList:[],iframe_url:'<iframe src="//player.bilibili.com/player.html?aid=837839066&bvid=BV1Tg4y1z7FH&cid=181579481&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>"',dialogVisible:!1,title:"",isEdit:!1,updateId:0,img:"",videoIsShow:!1,video_url:"<h1>123</h1>",headers:{token:""}}},created:function(){this.getVideoList()}},F=q,H=(i("8a44"),Object(a["a"])(F,A,M,!1,null,null,null)),J=H.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"resource"},[i("el-button",{attrs:{type:"btn"},on:{click:t.createResource}},[t._v("添加资源")]),i("el-table",{attrs:{data:t.resourceList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{prop:"title",label:"姓名"}}),i("el-table-column",{attrs:{prop:"code",label:"提取码"}}),i("el-table-column",{attrs:{prop:"url",label:"下载地址"}}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.updateResource(e.row.id,e.row.title,e.row.code,e.row.url)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteRosource(e.row.id)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"资源标题"}},[i("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("el-form-item",{attrs:{label:"资源地址"}},[i("el-input",{model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),i("el-form-item",{attrs:{label:"提取码"}},[i("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},K=[],N={methods:{getDetail:function(t){this.$router.push("/chapter?book_id=".concat(t))},save:function(){var t=this;this.isEdit?B.put("/resource/".concat(this.updateId),{title:this.title,code:this.code,url:this.url}).then((function(){t.getResourceList(),t.dialogVisible=!1})):B.post("/resource",{title:this.title,code:this.code,url:this.url}).then((function(){t.getResourceList(),t.dialogVisible=!1}))},createResource:function(){this.dialogVisible=!0,this.title="",this.url="",this.code="",this.isEdit=!1},deleteRosource:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/resource/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getResourceList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateResource:function(t,e,i,o){this.dialogVisible=!0,this.title=e,this.isEdit=!0,this.updateId=t,this.url=o,this.code=i},getResourceList:function(){var t=this;B.get("/resource?page=1&total=10").then((function(e){t.resourceList=e.data.data}))}},data:function(){return{resourceList:[],url:"",dialogVisible:!1,title:"",isEdit:!1,updateId:0,code:"",headers:{token:""}}},created:function(){this.getResourceList()}},Q=N,W=(i("28a5"),Object(a["a"])(Q,G,K,!1,null,"230e03c6",null)),X=W.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user"},[i("el-button",{attrs:{type:"btn"},on:{click:t.createUser}},[t._v("添加用户")]),i("el-table",{attrs:{data:t.userList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{prop:"username",label:"姓名"}}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.resetPassword(e.row.id,e.row.username)}}},[t._v("重置密码")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteUser(e.row.id)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"用户名"}},[i("el-input",{attrs:{disabled:t.cantBeEdited},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),i("el-form-item",{attrs:{label:"密码"}},[i("el-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},Z=[],tt={methods:{save:function(){var t=this;this.isEdit?B.put("/user/".concat(this.updateId),{password:this.password}).then((function(){t.getUserList(),t.dialogVisible=!1})):B.post("/user",{username:this.username,password:this.password}).then((function(){t.getUserList(),t.dialogVisible=!1}))},createUser:function(){this.dialogVisible=!0,this.username="",this.password="",this.isEdit=!1,this.cantBeEdited=!1},deleteUser:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/user/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getUserList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},resetPassword:function(t,e){this.dialogVisible=!0,this.isEdit=!0,this.updateId=t,this.cantBeEdited=!0,this.username=e,this.password=""},getUserList:function(){var t=this;B.get("/user?page=1&total=10").then((function(e){t.userList=e.data.data}))}},data:function(){return{userList:[],password:"",dialogVisible:!1,username:"",isEdit:!1,updateId:0,headers:{token:""},cantBeEdited:!1}},created:function(){this.getUserList()}},et=tt,it=(i("eaa5"),Object(a["a"])(et,Y,Z,!1,null,"48ad1814",null)),ot=it.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"book"},[i("el-button",{attrs:{type:"btn"},on:{click:t.createBook}},[t._v("添加书籍")]),i("el-table",{attrs:{data:t.bookList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{label:"封面"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticClass:"pic",attrs:{src:t.row.img,alt:""}})]}}])}),i("el-table-column",{attrs:{prop:"title",label:"姓名"}}),i("el-table-column",{attrs:{label:"详情",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.getDetail(e.row.id)}}},[t._v("查看章")])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.updateBook(e.row.id,e.row.title,e.row.img,e.row.orderby)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteBook(e.row.id)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{attrs:{id:"cover"}},[i("span",{staticClass:"cover_cover"},[t._v("上传封面:")]),i("el-upload",{attrs:{action:t.getUploadUrl(),"list-type":"picture-card","on-preview":t.handleSuccess,"on-remove":t.handleRemove,headers:t.headers,"on-success":t.handleSuccess,"file-list":t.fileList}},[i("i",{staticClass:"el-icon-plus"})])],1),i("el-form",[i("el-form-item",{attrs:{label:"书籍名称"}},[i("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("el-form-item",{attrs:{label:"排序权重"}},[i("el-input",{model:{value:t.orderby,callback:function(e){t.orderby=e},expression:"orderby"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},lt=[],at={methods:{getDetail:function(t){this.$router.push("/chapter?book_id=".concat(t))},save:function(){var t=this;this.isEdit?B.put("/book/".concat(this.updateId),{title:this.title,img:this.img,orderby:this.orderby}).then((function(){t.getBookList(),t.dialogVisible=!1})):B.post("/book",{title:this.title,img:this.img,orderby:this.orderby}).then((function(){t.getBookList(),t.dialogVisible=!1}))},createBook:function(){this.dialogVisible=!0,this.title="",this.img="",this.orderby="",this.isEdit=!1},deleteBook:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/book/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getBookList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateBook:function(t,e,i,o){this.dialogVisible=!0,this.title=e,this.isEdit=!0,this.updateId=t,this.orderby=o,this.fileList=[{url:i}],this.img=i},getBookList:function(){var t=this;B.get("/book?page=1&total=10").then((function(e){t.bookList=e.data.data}))},getUploadUrl:function(){return"/api/upload"},handleRemove:function(t,e){console.log(t),console.log(e)},handlePreview:function(t){console.log(t)},handleSuccess:function(t,e,i){console.log(e),console.log(i),this.img=t.data.file}},data:function(){return{fileList:[],bookList:[],orderby:"",dialogVisible:!1,title:"",isEdit:!1,updateId:0,img:"",headers:{token:""}}},created:function(){this.getBookList()}},st=at,rt=(i("23a9"),Object(a["a"])(st,nt,lt,!1,null,"47da8d92",null)),ct=rt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"btn"},on:{click:t.createChapter}},[t._v("添加章")]),i("el-table",{attrs:{data:t.chapterList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{prop:"title",label:"姓名"}}),i("el-table-column",{attrs:{label:"详情",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.getDetail(e.row.id)}}},[t._v("查看小节")])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.updateChapter(e.row.id,e.row.title,e.row.orderby)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteChapter(e.row.id)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"标题"}},[i("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("el-form-item",{attrs:{label:"权重"}},[i("el-input",{model:{value:t.orderby,callback:function(e){t.orderby=e},expression:"orderby"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},dt=[],ht={methods:{getDetail:function(t){this.$router.push("/section?chapter_id=".concat(t))},save:function(){var t=this;this.isEdit?B.put("/chapter/".concat(this.updateId),{title:this.title,book_id:this.book_id,orderby:this.orderby}).then((function(){t.getChapterList(),t.dialogVisible=!1})):B.post("/chapter",{title:this.title,book_id:this.book_id,orderby:this.orderby}).then((function(){t.getChapterList(),t.dialogVisible=!1}))},createChapter:function(){this.dialogVisible=!0,this.title="",this.isEdit=!1,this.orderby=""},deleteChapter:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/chapter/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getChapterList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateChapter:function(t,e,i){this.dialogVisible=!0,this.title=e,this.isEdit=!0,this.updateId=t,this.orderby=i},getChapterList:function(){var t=this;B.get("/chapter?book_id=".concat(this.book_id)).then((function(e){t.chapterList=e.data.data}))}},data:function(){return{chapterList:[],dialogVisible:!1,title:"",isEdit:!1,updateId:0,orderby:""}},computed:{book_id:function(){return this.$route.query.book_id}},created:function(){this.getChapterList()}},pt=ht,ft=Object(a["a"])(pt,ut,dt,!1,null,null,null),mt=ft.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"btn"},on:{click:t.createSection}},[t._v("添加小节")]),i("el-table",{attrs:{data:t.chapterList,border:""}},[i("el-table-column",{attrs:{align:"center",width:"100",label:"序号",type:"index"}}),i("el-table-column",{attrs:{prop:"title",label:"姓名"}}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.updateSection(e.row.id)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteSection(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},gt=[],vt=(i("99af"),{methods:{createSection:function(){this.$router.push("/createSection?chapter_id=".concat(this.chapter_id))},updateSection:function(t){this.$router.push("/section/".concat(t,"?chapter_id=").concat(this.chapter_id))},deleteSection:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){B.delete("/section/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getSectionList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getSectionList:function(){var t=this;B.get("/section?chapter_id=".concat(this.chapter_id)).then((function(e){t.chapterList=e.data.data}))}},data:function(){return{chapterList:[],title:""}},computed:{chapter_id:function(){return this.$route.query.chapter_id}},created:function(){this.getSectionList()}}),_t=vt,yt=Object(a["a"])(_t,bt,gt,!1,null,null,null),xt=yt.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[i("el-input",{attrs:{placeholder:"小节标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("div",{staticClass:"title"},[i("el-input",{attrs:{placeholder:"排序权重"},model:{value:t.orderby,callback:function(e){t.orderby=e},expression:"orderby"}})],1),i("div",{attrs:{id:"main"}},[i("mavon-editor",{ref:"md",staticClass:"title_titlem",on:{change:t.changeData,imgAdd:t.imgAdd,imgDel:t.imgDel},model:{value:t.md_text,callback:function(e){t.md_text=e},expression:"md_text"}}),i("div",[i("el-button",{staticClass:"title_titleb",attrs:{type:"success"},on:{click:t.save}},[t._v("保存")])],1)],1)])},wt=[],Lt={data:function(){return{fileList:[],md_text:"",html_text:"",title:"",orderby:"",headers:{token:""}}},methods:{save:function(){this.id?this.updateSection():this.createSection()},createSection:function(){var t=this;B({url:"/section",method:"post",data:{md_text:this.md_text,html_text:this.html_text,title:this.title,chapter_id:this.chapter_id,orderby:this.orderby}}).then((function(){t.$router.push("/section?chapter_id=".concat(t.chapter_id))}))},updateSection:function(){var t=this;B({url:"/section/".concat(this.id),method:"put",data:{md_text:this.md_text,html_text:this.html_text,title:this.title,chapter_id:this.chapter_id,orderby:this.orderby}}).then((function(){t.$router.push("/section?chapter_id=".concat(t.chapter_id))}))},getUploadUrl:function(){return"/api/upload"},changeData:function(t,e){this.html_text=e},imgAdd:function(t,e){var i=this,o=new FormData;o.append("image",e),console.log(e,"$file"),B({url:"/api/upload",method:"post",data:o,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var o=e.data.data.file;i.$refs.md.$img2Url(t,o)})).catch((function(t){console.log(t)}))},imgDel:function(){},upload:function(){}},computed:{chapter_id:function(){return this.$route.query.chapter_id},id:function(){return this.$route.params.id}},created:function(){var t=this;console.log(this.id),this.id&&B({url:"/section/".concat(this.id),method:"get"}).then((function(e){var i=e.data.data;t.title=i.title,t.fileList=[{url:i.img}],t.md_text=i.md_text,t.html_text=i.html_text,t.orderby=i.orderby,t.chapter_id=i.chapter_id}))}},Ct=Lt,$t=Object(a["a"])(Ct,kt,wt,!1,null,null,null),St=$t.exports,Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"form"},[i("h1",[t._v("用户登录")]),i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"用户名称"}},[i("el-input",{model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),i("el-form-item",{attrs:{label:"用户密码"}},[i("el-input",{model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1)],1)])},Bt=[],Et={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var t=this;B.post("/login",this.user).then((function(e){2e4===e.data.code?(localStorage.setItem("token",e.data.token),t.$router.push("/")):alert("登录失败,请重新填写登陆信息")}))}}},Ot=Et,Ut=(i("f708"),Object(a["a"])(Ot,Vt,Bt,!1,null,"d023c4a0",null)),It=Ut.exports;o["default"].use(h["a"]);var jt=[{path:"/",name:"",component:w,children:[{path:"/",name:"",component:g},{path:"/book",name:"",component:ct},{path:"/chapter",name:"",component:mt},{path:"/section",name:"",component:xt},{path:"/createSection",name:"",component:St},{path:"/section/:id",name:"",component:St},{path:"/blog",name:"",component:I},{path:"/createBlog",name:"",component:P},{path:"/blog/:id",name:"",component:P},{path:"/video",name:"",component:J},{path:"/resource",name:"",component:X},{path:"/user",name:"",component:ot}]},{path:"/login",name:"Login",component:It}],Tt=new h["a"]({base:"/",routes:jt});Tt.beforeEach((function(t,e,i){"/login"==t.path||localStorage.getItem("token")?i():i("/login")}));var Dt=h["a"].prototype.push;h["a"].prototype.push=function(t){return Dt.call(this,t).catch((function(t){return t}))};var zt=Tt,Rt=i("b2d8"),Pt=i.n(Rt);i("64e1");o["default"].use(Pt.a),o["default"].config.productionTip=!1,o["default"].use(d.a),new o["default"]({router:zt,render:function(t){return t(c)}}).$mount("#app")},7658:function(t,e,i){},"81bb":function(t,e,i){},8242:function(t,e,i){"use strict";var o=i("c34b"),n=i.n(o);n.a},"8a44":function(t,e,i){"use strict";var o=i("7658"),n=i.n(o);n.a},"8b83":function(t,e,i){},b8b1:function(t,e,i){"use strict";var o=i("30ec"),n=i.n(o);n.a},c34b:function(t,e,i){},e933:function(t,e,i){},eaa5:function(t,e,i){"use strict";var o=i("1968"),n=i.n(o);n.a},f708:function(t,e,i){"use strict";var o=i("8b83"),n=i.n(o);n.a}});
//# sourceMappingURL=app.f2167da5.js.map